<%- include('../partials/header', { title: title }) %>

<div class="reservation-form-container">
  <h2>Reserve Listing</h2>

  <!-- Display listing details -->
  <h3><%= listing.address %></h3>
  <div class="pictures-container">
    <% listing.pictures.slice(0, 3).forEach((picture, index) => { %>
      <img src="<%= picture %>" alt="Listing Picture">
    <% }) %>
  </div>
  <ul>
    <li>Bedrooms: <%= listing.bedrooms %></li>
    <li>Bathrooms: <%= listing.bathrooms %></li>
    <li>Square Footage: <%= listing.sqFootage %> sq ft</li>
    <li>Price per Night: $<%= listing.pricePerNight.toFixed(2) %></li>
  </ul>

  <!-- Reservation form -->
  <form action="/all-listings/<%= listing._id %>/reserve" method="POST">
    <!-- First Name -->
    <label for="firstName">First Name:</label>
    <input type="text" id="firstName" name="firstName" required>

    <!-- Last Name -->
    <label for="lastName">Last Name:</label>
    <input type="text" id="lastName" name="lastName" required>

    <!-- Start Date -->
    <label for="startDate">Start Date:</label>
    <input type="date" id="startDate" name="startDate" required>

    <!-- End Date -->
    <label for="endDate">End Date:</label>
    <input type="date" id="endDate" name="endDate" required>

    <button type="submit">Reserve Now</button>
  </form>
</div>

<%- include('../partials/footer') %>